/*
* Revision: 3.6.1.105852
* Revision date: 07/30/2015
*
* http://www.asperasoft.com/
*
* Â© Copyright IBM Corp. 2008, 2015, Copyright (C) 1991, 1999 Free Software Foundation, Inc.
*/
"use strict";if(typeof AW4=="undefined")var AW4={};AW4.Utils=function(){var FASP_URL="fasp://initialize",ua=typeof navigator!="undefined"?navigator.userAgent:"",BROWSER={OPERA:/opera|opr/i.test(ua),IE:/msie|trident/i.test(ua),CHROME:/chrome|crios|crmo/i.test(ua)&&!/opera|opr/i.test(ua),FIREFOX:/firefox|iceweasel/i.test(ua),SAFARI:/safari/i.test(ua)};(function(){var JSON;window.JSON||(window.JSON={}),function(){function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i&&typeof i=="object"&&typeof i.toJSON=="function"&&(i=i.toJSON(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g;return e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)typeof rep[c]=="string"&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g;return e}}function quote(a){escapable.lastIndex=0;return escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(a){return a<10?"0"+a:a}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof window.JSON.stringify!="function"&&(window.JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(b&&typeof b!="function"&&(typeof b!="object"||typeof b.length!="number"))throw new Error("JSON.stringify");return str("",{"":a})}),typeof window.JSON.parse!="function"&&(window.JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}()})(),function(){if(document.all&&!window.setTimeout.isPolyfill){var a=window.setTimeout;window.setTimeout=function(b,c){var d=Array.prototype.slice.call(arguments,2);return a(b instanceof Function?function(){b.apply(null,d)}:b,c)},window.setTimeout.isPolyfill=!0}if(document.all&&!window.setInterval.isPolyfill){var b=window.setInterval;window.setInterval=function(a,c){var d=Array.prototype.slice.call(arguments,2);return b(a instanceof Function?function(){a.apply(null,d)}:a,c)},window.setInterval.isPolyfill=!0}}();var createError=function(a,b){var c="";a==-1&&(c="Invalid request");return{error:{code:a,internal_message:c,user_message:b}}},parseJson=function(a){var b;if(typeof a=="string"&&(a.length===0||a.replace(/\s/g,"")==="{}"))return{};try{b=JSON.parse(a)}catch(c){b=createError(-1,c)}return b},versionLessThan=function(a,b){var c=function(a){var b=a.split("."),c=[];for(var d=0;d<b.length;d++)isNaN(parseInt(b[d]))&&AW.utils.logger("Warning: Version contains non-numbers"),c.push(parseInt(b[d],10));return c},d=c(a),e=c(b),f;for(f=0;f<Math.min(d.length,e.length);f++){if(d[f]<e[f])return!0;if(d[f]>e[f])return!1}return!1},generateUuid=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=((a+16)*Math.random()).toFixed()%16;b!=="x"&&(c=c&3|8);return c.toString(16)})},launchConnect=function(a){var b=function(b){typeof a=="function"&&a(b)},c=!1;if(BROWSER.CHROME||BROWSER.OPERA)document.body.focus(),document.body.onblur=function(){c=!0},document.location=FASP_URL,setTimeout(function(){document.body.onblur=null,b(c)},500);return null};return{FASP_URL:FASP_URL,BROWSER:BROWSER,versionLessThan:versionLessThan,createError:createError,generateUuid:generateUuid,launchConnect:launchConnect,parseJson:parseJson}}(),AW4.ConnectInstaller=function(a){var b=[],c=null,d=0,e=!1,f=0;if(a===""||a===null||typeof a=="undefined")a={};a.iframeId=a.iframeId||"aspera-iframe-container",a.sdkLocation=a.sdkLocation||"//d3gcli72yxqn2z.cloudfront.net/connect/v4";var g=function(a,b,c){if(!(a!==null&&typeof a!="undefined"&&a instanceof Array))return null;if(b===null||typeof b!="string")return null;var d=0,e=document.getElementsByTagName("head")[0]||document.documentElement,f=function(a){var f=!1,g=null;if(b.toLowerCase()==="js")g=document.createElement("script"),g.setAttribute("type","text/javascript"),g.setAttribute("src",a);else if(b.toLowerCase()==="css")g=document.createElement("link"),g.setAttribute("rel","stylesheet"),g.setAttribute("type","text/css"),g.setAttribute("href",a);else return null;typeof c=="function"&&(g.onload=g.onreadystatechange=function(){!f&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")&&(f=!1,g.onload=g.onreadystatechange=null,e&&g.parentNode&&e.removeChild(g),--d<=0&&typeof c=="function"&&c())}),e.insertBefore(g,e.firstChild)};d=a.length;for(var g=0;g<d;g++)typeof a[g]=="string"&&f(a[g])},h=function(){var a="Not supported";/Win/.test(navigator.platform)?parseFloat(navigator.userAgent.match(/Windows NT (\d+.\d+)/)[1])>=5.1&&(navigator.userAgent.indexOf("WOW64")!=-1||navigator.userAgent.indexOf("Win64")!=-1?a="Win64":a="Win32"):/Mac/.test(navigator.platform)?parseInt(navigator.userAgent.match(/OS X 10[._](\d+)/)[1])<7?parseInt(navigator.userAgent.match(/OS X 10[._](\d+)/)[1])==6&&(a="MacIntel-10.6-legacy"):a="MacIntel":/Linux/.test(navigator.platform)&&(navigator.userAgent.indexOf("x86_64")!=-1?a="Linux x86_64":a="Linux i686");return a},i=function(){var a="Not supported";/Win/.test(navigator.platform)?navigator.userAgent.indexOf("WOW64")!=-1||navigator.userAgent.indexOf("Win64")!=-1?a="Win64":a="Win32":/Mac/.test(navigator.platform)?a="Mac OS X":/Linux/.test(navigator.platform)&&(a="Linux");return a},j=function(a){for(var c=0;c<b.length;c++)b[c](a)},k=function(a){if(typeof a!="function")return null;b.push(a)},l=function(a){var b=document.createElement("style");b.setAttribute("type","text/css"),b.styleSheet?b.styleSheet.cssText=a:b.innerHTML=a,document.body.appendChild(b)},m=function(b){if(typeof b!="function")return null;if(c!==null){b(c);return null}var d=function(){var a=AW4.connectVersions,d=a.entries,e=h();for(var f=0;f<d.length;f++){var g=d[f];if(g.navigator.platform===e){c=g,b(g);return null}}var j=i();for(var f=0;f<d.length;f++){var g=d[f];if(g.platform.os===j){c=g,b(g);return null}}},e=a.sdkLocation+"/connectversions.js";g([e],"js",d);return null},n=function(b){function g(){e&&(clearInterval(f),c.contentWindow.postMessage(b,"*"))}function d(c){if(c.data==="iframeloaded"){e=!0;var d=document.getElementById(a.iframeId);d.contentWindow.postMessage(b,"*");var f=function(b){for(var c=0;c<b.links.length;c++){var e=b.links[c];e.rel==="enclosure"&&typeof d!="undefined"&&d!==null&&d.contentWindow.postMessage("downloadlink="+a.sdkLocation+"/"+e.href,"*")}};m(f),a.stylesheetLocation&&typeof d!="undefined"&&d!==null&&d.contentWindow.postMessage("insertstylesheet="+a.stylesheetLocation,"*"),j(c.data)}else c.data==="downloadconnect"?(q(),j(c.data)):c.data==="refresh"?(location.reload(!0),j(c.data)):c.data==="launchconnect"?j(c.data):c.data==="removeiframe"&&(t(),j(c.data))}var c=document.getElementById(a.iframeId);if(!c){l("#"+a.iframeId+" {position: fixed;width: 100%;height: 80px;margin: 0px;padding: 0px;border: none;outline: none;overflow: scroll;top: 0px;left: 0px;z-index: 100}");var c=document.createElement("iframe");c.id=a.iframeId,c.frameBorder="0",c.src=a.sdkLocation+"/install/auto-topbar/index.html",document.body.appendChild(c),window.addEventListener?window.addEventListener("message",d,!1):window.attachEvent("onmessage",d)}else f=setInterval(g,100)},o=function(a){a=typeof a=="number"?a:1500,d!==0&&clearTimeout(d);var b=function(){n("launching")};d=setTimeout(b,a)},p=function(){n("download")},q=function(){n("install")},r=function(){n("update")},s=function(b){d!==0&&clearTimeout(d),b=typeof b=="number"?b:2e3,clearTimeout(d);var c=document.getElementById(a.iframeId);typeof c!="undefined"&&c!==null&&(n("running"),setTimeout(t,b));return null},t=function(){d!==0&&clearTimeout(d);var b=document.getElementById(a.iframeId);typeof b!="undefined"&&b!==null&&b.parentNode.removeChild(b);return null};return{addEventListener:k,installationJSON:m,showLaunching:o,showDownload:p,showInstall:q,showUpdate:r,connected:s,dismiss:t}};